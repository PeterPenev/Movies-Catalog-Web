@model UserViewModel

@{
    ViewData["Title"] = $"{Model.UserName} details";
}

<div class="single-page-agile-main">
    <div class="container">
        <div class="single-page-agile-info">
            <!-- /movie-browse-agile -->
            <div class="show-top-grids-w3lagile">
                <div class="col-sm-8 single-left">
                    <div class="song">
                        <div class="song-info">
                            <h3>@Model.UserName</h3>
                        </div>
                        <div class="w3-list-img"><a asp-controller="Movies" asp-action="Details"><img style="border: 5px solid #ff9800" src="~/images/@(Model.Avatar ?? "noimage.jpg")" /> <span></span></a></div>
                    </div>
                    <h4 class="padding-custom">Reviews: <span class="text-orange">@Model.NumberOfReviews</span></h4>
                    @if (User.IsInRole("Admin"))
                    {
                        <h4 class="padding-custom">Email: <span class="text-orange">@Model.Email</span></h4>

                    }
                </div>
            </div>
            @if (Model.LastFiveReviewsByUser.Count() > 0)
            {
                <div class="col-md-4 single-right">
                    <h3>Last @Model.LastFiveReviewsByUser.Count() Reviews by @Model.UserName</h3>
                    <div class="single-grid-right">

                        @foreach (var review in Model.LastFiveReviewsByUser)
                        {
                            <div class="single-right-grids">
                                <div class="col-md-4 single-right-grid-left">
                                    <a asp-controller="Reviews" asp-action="Details" asp-route-id="@review.Id"><img src="~/images/@(review.MoviePoster?? "noimage.jpg")" /></a>
                                </div>
                                <div class="col-md-8 single-right-grid-right">
                                    <a asp-controller="Reviews" asp-action="Details" asp-route-id="@review.Id">@review.MovieTitle</a>
                                    <p class="author">"Created on" : @review.CreatedOn.ToString("MMMM dd, yyyy")</p>
                                    <p class="views">@review.Description</p>
                                </div>
                                <div class="clearfix"> </div>
                            </div>
                        }
                    </div>
                </div>
            }

        </div>
    </div>
</div>





